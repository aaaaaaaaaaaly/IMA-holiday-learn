# pythonå¤ä¹ 

## æ“ä½œç¬¦

#### ç®—æœ¯æ“ä½œç¬¦

** ï¼šå¹‚è¿ç®—

// ï¼šä¿ç•™æ•´æ•°çš„é™¤æ³•

/  ï¼šä¿ç•™å°æ•°çš„é™¤æ³•

% ï¼šæ¨¡è¿ç®—

+ï¼Œ- ï¼Œ*

#### æ¯”è¾ƒæ“ä½œç¬¦

![](https://s4.ax1x.com/2022/01/18/7wLsfS.png)

#### é€»è¾‘æ“ä½œç¬¦

andï¼šå…¨çœŸæ‰çœŸ

orï¼šå…¨å‡æ‰å‡

notï¼šä¸€å…ƒæ“ä½œç¬¦

#### ä¼˜å…ˆçº§é—®é¢˜

![](https://s4.ax1x.com/2022/01/18/7wL7pF.png)

**æ³¨æ„**ï¼šå½“å¹‚è¿ç®—å·¦ä¾§æ˜¯ä¸€å…ƒè¿ç®—ç¬¦çš„æ—¶å€™ï¼Œä¼˜å…ˆçº§é€¼å¹‚è¿ç®—é«˜ï¼›å½“å³ä¾§æ˜¯ä¸€å…ƒè¿ç®—ç¬¦çš„æ—¶å€™ï¼Œä¼˜å…ˆçº§æ¯”ä»–ä½

             not>and>or

------

## åˆ†æ”¯ä¸å¾ªç¯

åˆ†æ”¯ï¼šif-elseè¯­å¥ï¼›if-elif-elseè¯­å¥ï¼›

å¾ªç¯ï¼šwhile-elseè¯­å¥ã€‚

å¾ªç¯ï¼šforå¾ªç¯ï¼Œrange()

![](https://s4.ax1x.com/2022/01/18/7wxDxO.png)

![](https://s4.ax1x.com/2022/01/18/7wziw9.png)

åˆ†æ”¯å¾ªç¯åµŒå¥—ï¼šç•¥ã€‚

break å’Œcoontinue:ç•¥

**æ¡ä»¶è¡¨è¾¾å¼ï¼šä¸‰å…ƒæ“ä½œç¬¦**

```python
# xæ˜¯æ¡ä»¶
# yæ˜¯ è¿ç®—è¡¨è¾¾å¼1
# zæ˜¯ è¿ç®—è¡¨è¾¾å¼2
# å¦‚æœxä¸ºçœŸï¼Œè¿è¡Œyï¼Œå¦åˆ™è¿è¡Œz
y if x else z
```

![](https://s4.ax1x.com/2022/01/18/7wvK1O.png)

æ–­è¨€ï¼šassert

![](https://s4.ax1x.com/2022/01/18/7wvJAI.png)



å› ä¸ºæ²¡æœ‰èŠ±æ‹¬å·ï¼Œæ˜¯é€šè¿‡**tabç©ºæ ¼é”®æ¥å®ç°åˆ†å±‚çº§**

------

## åŸºç¡€

### åˆ—è¡¨ï¼ˆlistï¼‰[]

ï¼ˆæ•°ç»„ï¼‰

![](https://s4.ax1x.com/2022/01/18/7wz6pV.png)

å¯ä»¥å­˜å‚¨å¤šç§æ•°æ®ç±»å‹

#### åˆ›å»ºåˆ—è¡¨

```python
member=['as','bs','cs','ds']
member2=[1,'as','ä½ å¥½',3.14,[1,2,3]]
#ç©ºåˆ—è¡¨
empyt=[]
```



#### å‘åˆ—è¡¨é‡Œæ·»åŠ å…ƒç´ 

##### .append()

```pyhon
member.append()
```

![](https://s4.ax1x.com/2022/01/18/70Sa36.png)

##### .extend()

```
member.extend()
# å‚æ•°ä¸ºåˆ—è¡¨ï¼Œç”¨ä¸€ä¸ªåˆ—è¡¨æ‰©å±•å¦ä¸€ä¸ªåˆ—è¡¨
```

![](https://s4.ax1x.com/2022/01/18/70pC5R.png)

##### .insert()

```
member.insert(ä¸‹æ ‡ï¼Œå…ƒç´ )
```

![](https://s4.ax1x.com/2022/01/18/709Foj.png)

#### ä»åˆ—è¡¨é‡Œè·å¾—å…ƒç´ 

å’Œæ•°ç»„ä¸€æ ·ï¼Œåˆ©ç”¨å…ƒç´ çš„ç´¢å¼•å€¼ä»åˆ—è¡¨è·å¾—å•ä¸ªå…ƒç´ 

```
member[index]
```



#### ä»åˆ—è¡¨åˆ é™¤å…ƒç´ 

##### .remove()

```
member.remove(å…ƒç´ )
# éœ€è¦çŸ¥é“å…ƒç´ å…·ä½“çš„å€¼æ‰èƒ½åˆ é™¤
```

##### del

```
del member[index]
del member # æŠŠæ•´ä¸ªåˆ—è¡¨åˆ é™¤
```

##### .popï¼ˆï¼‰

- é»˜è®¤ä¸‹ï¼ŒæŠŠæœ€åä¸€ä¸ªå…ƒç´ å¼¹å‡ºæ¥

![](https://s4.ax1x.com/2022/01/18/70nuXd.png)

- ä¹Ÿå¯ä»¥é€šè¿‡ç´¢å¼•å€¼åˆ é™¤

```
member.pop(1)
# è¡¨ç¤ºæŠŠç´¢å¼•å€¼ä¸º1çš„å…ƒç´ åˆ é™¤
```



#### åˆ—è¡¨åˆ†ç‰‡ï¼ˆsliceï¼‰

```
member[1:3]
#è·å¾—åŸåˆ—è¡¨çš„æ‹·è´
# è·å¾—ä¸‹æ ‡ä¸º1ï¼Œåˆ°ä¸‹æ ‡ä¸º3ï¼Œä½†æ˜¯å–ä¸åˆ°ä¸‹æ ‡ä¸º3çš„å…ƒç´ 
member[:3]
member[:]
```



#### åˆ—è¡¨çš„æ“ä½œç¬¦

æ¯”è¾ƒï¼Œé€»è¾‘ï¼Œè¿æ¥ï¼Œé‡å¤ï¼Œæˆå‘˜å…³ç³»ç­‰æ“ä½œç¬¦

- list.count(å…ƒç´ )
- list.reverse( )å¤´å°¾é¢ å€’
- list.index(å…ƒç´ ï¼Œstartï¼Œend)

- list.sort(reverse=False)

  reverse=Falseè¡¨ç¤ºä¸é€†åº

  

------

### å…ƒç»„ï¼ˆtupleï¼‰(,)

ï¼ˆå¸¦ä¸Šæ·é”çš„åˆ—è¡¨ï¼‰

**å’Œåˆ—è¡¨æ¯”è¾ƒæ¥å­¦ä¹ **

**ä¸èƒ½éšæ„ä¿®æ”¹ï¼Œåˆ›å»ºçš„æ—¶å€™ç”¨ï¼ˆ,ï¼‰ï¼Œåˆ—è¡¨ç”¨çš„æ˜¯[]**



- ()å¹¶ä¸ä¸€å®šä¸ºå…ƒç¥–ï¼Œè¿˜è¦åŠ â€œ ï¼Œâ€

![](https://static01.imgkr.com/temp/b4cb4978533b462ea056473de7b45a8f.png)

![](https://static01.imgkr.com/temp/ba674d88fc964ed0a1ae1b7f85e3687e.png)

![](https://static01.imgkr.com/temp/e713021c3dc448c194128f4e775532c0.png)



- åˆ›å»ºç©ºå…ƒç»„

```
empty=()
```

- æ›´æ–°

å…ƒç»„æ˜¯ä¸èƒ½éšæ„æ”¹å˜çš„ï¼Œå¯ä»¥é€šè¿‡æ‹·è´æ›´æ–°

![](https://static01.imgkr.com/temp/d67e7a51fce341e08c39aff63d969251.png)

- åˆ é™¤

```
del temp
```

- å’Œå…ƒç»„ç›¸å…³çš„æ“ä½œç¬¦

+ï¼šæ‹¼æ¥

*ï¼šé‡å¤

inï¼Œnot inï¼šæˆå‘˜æ“ä½œç¬¦

é€»è¾‘ï¼Œæ¯”è¾ƒæ“ä½œç¬¦......



------

### å­—ç¬¦ä¸²ï¼ˆstrï¼‰" "

å­—ç¬¦ä¸²ä¸èƒ½éšæ„ä¿®æ”¹ï¼Œä¿®æ”¹æ–¹æ³•å’Œå…ƒç»„ä¸€æ ·

![](https://static01.imgkr.com/temp/6eb80abbc940440388283c407906dbaa.png)

![](https://static01.imgkr.com/temp/2fe5ad1c1df84a4b8a4076b41cdfb636.png)

pythonæœºåˆ¶ï¼šå½“æ²¡æœ‰æ ‡ç­¾æŒ‡å‘ï¼Œå°±ä¼šè¢«å›æ”¶

- å­—ç¬¦ä¸²çš„å…¶ä»–å¤šç§æ–¹æ³•

![](https://static01.imgkr.com/temp/de9136fad6fa43a5a432008335e6deb8.png)



- æ ¼å¼åŒ–

format( ),{é‡Œé¢æ˜¯replacementï¼Œé€šå¸¸é»˜è®¤ä¸ºä¸ºä¸‹æ ‡}

![](https://static01.imgkr.com/temp/baa090fdc7f240a1960e4326880be6d6.png)

- å¦‚å›¾æ‰€ç¤ºï¼Œ{0}ï¼Œå·²ç»æˆä¸ºreplacementï¼Œæ‰€ä»¥åé¢çš„ä¸æ‰“å°

![](https://static01.imgkr.com/temp/590a399c15374df18518a806fbc4d24a.png)

- ï¼šè¡¨ç¤ºä¸‹æ ‡ä¸º0,"0:"    .1fè¡¨ç¤ºä¿ç•™å°æ•°

![](https://s4.ax1x.com/2022/01/18/70t5VS.png)



![](https://s4.ax1x.com/2022/01/18/70NEqK.png)

- ä¾‹å­

![](https://s4.ax1x.com/2022/01/18/70N3sP.png)

![](https://s4.ax1x.com/2022/01/18/70NtIg.png)

- ç²¾åº¦

![](https://s4.ax1x.com/2022/01/18/70NRJJ.png)

- ä¾‹å­ï¼Œ5è¡¨ç¤ºæ•´ä¸ªå­—ç¬¦ä¸²åŠ èµ·æ¥ç­‰äº5ä¸ªå ä½ï¼Œä¿ç•™1ä½å°æ•°

![](https://s4.ax1x.com/2022/01/18/70UkWj.png)

- è½¬ä¹‰å­—ç¬¦

![](https://s4.ax1x.com/2022/01/18/70as5F.png)



------

### åºåˆ—

#### å›é¡¾

æŠŠåˆ—è¡¨ï¼Œå…ƒç»„ï¼Œå­—ç¬¦ä¸²ç»Ÿç§°ä¸ºåºåˆ—

![](https://s4.ax1x.com/2022/01/18/70aH8H.png)

#### å†…ç½®æ–¹æ³•

##### listï¼ˆï¼‰

```
list()# æ— å‚
list(iterable)# æœ‰å‚
```

- æŠŠå¯è¿­ä»£å¯¹è±¡è½¬åŒ–ä¸ºåˆ—è¡¨

![](https://s4.ax1x.com/2022/01/18/70dqFU.png)



##### tuple([iterable])

- æŠŠä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡è½¬åŒ–ä¸ºå…ƒç¥–ï¼Œä¸åˆ—è¡¨ä¸€æ ·

  

##### str(obj)

- æŠŠobjå¯¹è±¡è½¬åŒ–ä¸ºå­—ç¬¦ä¸²

  

##### len()

- è¿”å›å…ƒç´ çš„é•¿åº¦

  

##### max()

- è¿”å›åºåˆ—æˆ–è€…å‚æ•°é›†åˆä¸­çš„æœ€å¤§å€¼

  

##### min()

- è¿”å›åºåˆ—æˆ–è€…å‚æ•°é›†åˆä¸­çš„æœ€å°å€¼

  

##### sum(iterable[,start=0])

- è¿”å›åºåˆ— iterableå’Œå¯é€‰å‚æ•°startçš„æ€»å’Œ

  

##### sorted()

å’Œlist.sort()çš„å®ç°ä¸€æ ·



##### reversed()

å€’åºï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡

å¦‚æœè¦æŠŠä»–è½¬åŒ–ä¸ºä¸€ä¸ªåˆ—è¡¨ï¼Œä½¿ç”¨`list(reversed(number))`è½¬åŒ–



##### enumerate()

æšä¸¾ã€‚äº§ç”Ÿä¸€ä¸ª(**index**,å…ƒç´ )çš„åˆ—è¡¨

![](https://s4.ax1x.com/2022/01/18/70BrLR.png)



##### zip()

- å¯¹è±¡æ˜¯ä¸¤ä¸ªåˆ—è¡¨ï¼Œå®ç°ä¸‹æ ‡ä¸€è‡´çš„å…ƒç´ åˆå¹¶ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œéœ€è¦è½¬åŒ–ä¸ºåˆ—è¡¨

![](https://s4.ax1x.com/2022/01/18/70BIOA.png)



------

### å‡½æ•°

#### åˆ›å»ºä¸€ä¸ªå‡½æ•°

è¯­æ³•ï¼š`def å‡½æ•°å ():`

å‡½æ•°è°ƒç”¨ï¼š` å‡½æ•°å ()`     (å‡½æ•°å®šä¹‰éœ€è¦åœ¨å‡½æ•°è°ƒç”¨ä¹‹å‰)

å‡½æ•°å‚æ•°ï¼šç”±å‚æ•°å˜é‡å¯ä»¥å®ç°å‡½æ•°å¯å˜

```python
æ¯”å¦‚å®šä¹‰ä¸€ä¸ªåŠ æ³•å‡½æ•°
def add (num1,num2):
    result=num1+num2
    print(result)
```

å‡½æ•°çš„è¿”å›å€¼ï¼šéœ€è¦å…³é”®å­—ï¼šreturn

```python
def add (num1,num2)ï¼š
    return (num1+num2)
print(add(1,2))
>>>3
```

#### å½¢å‚å’Œå®å‚

å’Œcï¼Œc++ä¸€æ ·ï¼š

![](https://s4.ax1x.com/2022/01/19/7DK8yD.png)

#### å‡½æ•°æ–‡æ¡£

- ç±»ä¼¼æ³¨é‡Š

```python
def add (num1,num2)ï¼š
    'è¿™æ˜¯ä¸€ä¸ªå®ç°åŠ æ³•çš„å‡½æ•°'
    return (num1+num2)
#æ­£å¸¸æ‰“å°çš„æ—¶å€™ä¸ä¼šæ˜¾ç¤º
#è°ƒç”¨å‡½æ•°æ–‡æ¡£
add._doc_
help(add)
#æˆ–è€…
print._doc_
help(print)
```

#### å…³é”®å­—å‚æ•°

```python
def saysome(name,words):
    print(name+'->'+words)
    
#ä¸€ç§
saysome('ashelly','ä¸Šè¯¾')
#ç¬¬äºŒç§
saysome('ä¸Šè¯¾'ï¼Œ'ashelly')
#ç¬¬äºŒç§å‡ºç°é”™è¯¯
#æ”¹æ­£
saysome(words='ä¸Šè¯¾',name='ashelly')
```

#### é»˜è®¤å‚æ•°

```python
# å®šä¹‰çš„æ—¶å€™ç»™é»˜è®¤å€¼
def saysome(name='ashelly',words)
```

#### æ”¶é›†å‚æ•°

```python
def saysome(*params):
#åŠ ä¸Š* ï¼Œå‚æ•°é•¿åº¦å¯å˜

def saysome(*params,exp=8)
# exp=8è¡¨ç¤ºï¼Œå˜é‡expå›ºå®šå¤§å°ä¸º8
```

![](https://s4.ax1x.com/2022/01/19/7DM2uD.png)

å‚æ•°ç”¨å…ƒç»„æ‰“åŒ…èµ·æ¥ï¼Œç”¨é€—å·éš”å¼€ï¼›ä¸Šé¢ç¤ºä¾‹ä¸­çš„paramså°±æ˜¯ä¸€ä¸ªé•¿åº¦ä¸å®šçš„å…ƒç»„

------

### å‡½æ•°ä¸è¿‡ç¨‹

- å‡½æ•°ï¼ˆfunctionï¼‰ï¼šæœ‰è¿”å›å€¼
- è¿‡ç¨‹ï¼ˆprocrdureï¼‰ï¼šç®€å•ï¼Œç‰¹æ®Šï¼Œæ²¡æœ‰è¿”å›å€¼

pythonä¸­æ²¡æœ‰è¿‡ç¨‹ï¼Œå› ä¸ºå³ä½¿å‡½æ•°æœªå®šä¹‰returnè¯­å¥ï¼Œä¹Ÿä¼šè¿”å›'none',æˆ–è€…'type'

![](https://s4.ax1x.com/2022/01/19/7DlMYn.png)

#### å†è°ˆè¿”å›å€¼

c++ï¼Œcä¸­éƒ½æ˜¯ä¼šç¡®å®šè¿”å›å€¼ç±»å‹

è€Œpythonæ˜¯**åŠ¨æ€ç¡®å®š   è¿”å›å€¼ç±»å‹ï¼Œè¿”å›å€¼æ•°é‡**

pythonå¯ä»¥é€šè¿‡åˆ—è¡¨ï¼Œæˆ–è€…å…ƒç»„æ‰“åŒ…è¿”å›å€¼ï¼š

![](https://s4.ax1x.com/2022/01/19/7DldYR.png)

#### å‡½æ•°å˜é‡çš„ä½œç”¨åŸŸé—®é¢˜

å’Œcï¼Œc++çš„æƒ…å†µä¸€æ ·ï¼š

å±€éƒ¨å˜é‡ï¼šï¼ˆlocal variableï¼‰

å…¨å±€å˜é‡ï¼šï¼ˆglobal variableï¼‰

- å¦‚æœè¯•å›¾åœ¨å‡½æ•°å†…ä¿®æ”¹å…¨å±€å˜é‡ï¼Œpythonæœºåˆ¶ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡ï¼Œå’Œè¯¥å…¨å±€å˜é‡åŒåï¼Œæ¥æ‰˜æ”¾è¿™ä¸ªæ–°èµ‹çš„å€¼ã€‚è€Œå…¨å±€å˜é‡çš„å€¼å¹¶ä¸ä¼šè¢«æ”¹å˜

![](https://s4.ax1x.com/2022/01/19/7D3iKf.png)

- å…¨å±€å˜é‡åœ¨æ•´ä¸ªä»£ç ä¸­éƒ½å¯ä»¥è®¿é—®åˆ°ï¼Œä½†æ˜¯ä¸è¦è¯•å›¾åœ¨ï¼ˆå±€éƒ¨ï¼‰å‡½æ•°å†…å¯¹å…¨å±€å˜é‡è¿›è¡Œä¿®æ”¹ï¼›ä½†æ˜¯å¯ä»¥è®¿é—®å…¨å±€å˜é‡çš„å€¼



#### å†…åµŒå‡½æ•°å’Œé—­åŒ…

å…¨å±€å˜é‡åœ¨å‡½æ•°è¢«ä¿®æ”¹ï¼Œpythonæœºåˆ¶ä¼šç”¨å±è”½ï¼ˆshadowing)æ¥ä¿æŠ¤å…¨å±€å˜é‡

**ç”¨globalå…³é”®å­—ä¿®æ”¹å°±å¯ä»¥å®ç°å¯¹å…¨å±€å˜é‡çš„ä¿®æ”¹**

![](https://s4.ax1x.com/2022/01/19/7D8wfs.png)

![](https://s4.ax1x.com/2022/01/19/7D8r60.png)

**å†…åµŒå‡½æ•°**

åœ¨å‡½æ•°å®šä¹‰å†…éƒ¨åµŒå¥—å®šä¹‰ä¸€ä¸ªå‡½æ•°

- å¤±æ•ˆåŒæ—¶æ‰“å°ä¸¤ä¸ªå‡½æ•°

![](https://s4.ax1x.com/2022/01/19/7DGJ3R.png)

![](https://s4.ax1x.com/2022/01/19/7DGtjx.png)

- æˆåŠŸæ‰“å°ä¸¤ä¸ªå‡½æ•°

![](https://s4.ax1x.com/2022/01/19/7DGaDK.png)

**æ³¨æ„ï¼šå†…åµŒå‡½æ•°åªèƒ½åœ¨å‡½æ•°å†…éƒ¨å†…è¢«è°ƒç”¨ï¼Œä¸èƒ½åœ¨å¤–éƒ¨è°ƒç”¨**



**é—­åŒ…ï¼ˆclosureï¼‰**

é—­åŒ…ï¼Œåˆç§°é—­åŒ…å‡½æ•°æˆ–è€…é—­åˆå‡½æ•°ï¼Œå…¶å®å’Œå‰é¢è®²çš„åµŒå¥—å‡½æ•°ç±»ä¼¼ã€‚

ä¸åŒä¹‹å¤„åœ¨äºï¼Œé—­åŒ…ä¸­**å¤–éƒ¨å‡½æ•°è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªå…·ä½“çš„å€¼ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°**ã€‚

ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿”å›çš„å‡½æ•°ä¼šèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œè¿™ä¸ªå˜é‡å¯ä»¥åœ¨åé¢è¢«ç»§ç»­æ‰§è¡Œè°ƒç”¨ã€‚

![](https://s4.ax1x.com/2022/01/19/7DYKkF.png)

ä¸ä»…æ˜¯å†…åµŒå‡½æ•°ï¼Œè¿”å›å€¼ä¹Ÿæ˜¯å‡½æ•°ï¼Œè°ƒç”¨é—­åŒ…å‡½æ•°çš„ä¸¤ç§æ–¹å¼ï¼ˆä»¥ä¸Šï¼‰ã€‚

å†…åµŒå‡½æ•°è¦è¿”å›å€¼ï¼Œå¤–éƒ¨å‡½æ•°è¿”å›å†…éƒ¨å‡½æ•°ï¼Œå°±æ˜¯è¿”å›å†…éƒ¨å‡½æ•°è¿”å›çš„å€¼

**å®¹æ˜“å‡ºç°çš„é”™è¯¯**ï¼š

![](https://s4.ax1x.com/2022/01/19/7DY51s.png)

å†…åµŒå‡½æ•°ï¼Œå°†fun1çš„å†…éƒ¨ç¯å¢ƒå½“åšå¤–éƒ¨ç¯å¢ƒï¼Œxå¯¹äºfun2ä¹Ÿæ˜¯å…¨å±€å˜é‡ï¼Œå› æ­¤ä¸èƒ½ä¿®æ”¹å…¨å±€å˜é‡ï¼Œpythonæœºåˆ¶ä¼šæŠŠxå½“ä½œæœªå®šä¹‰çš„å±€éƒ¨å˜é‡



**æ”¹è¿›**

- å› ä¸ºåˆ—è¡¨ä¸å­˜åœ¨æ ˆä¸­ï¼Œä¸ä¼šè¢«å±è”½ï¼Œæ‰€ä»¥å°†xå®šä¹‰ä¸ºåˆ—è¡¨å†åœ¨å†…éƒ¨å‡½æ•°è°ƒç”¨

![](https://s4.ax1x.com/2022/01/19/7DtKDP.png)

- äº‹å®ä¸Šï¼Œpythonå·²ç»åœ¨è¿™æ–¹é¢å®ç°æ”¹è¿›

ä½¿ç”¨å…³é”®å­—**nonlocal**åœ¨å†…éƒ¨å‡½æ•°å£°æ˜ï¼Œå°±å¯ä»¥æŒ‡å‘å¤–éƒ¨å‡½æ•°çš„å˜é‡xï¼Œå¹¶ä¸”å®ç°ä¿®æ”¹

![](https://s4.ax1x.com/2022/01/19/7DtRDx.png)

------

### lambdaè¡¨è¾¾å¼

![](https://s4.ax1x.com/2022/01/19/7DaGCD.png)

åœ¨**å†’å·**å‰é¢æ˜¯å‡½æ•°å‚æ•°

åœ¨**å†’å·**åè¾¹æ˜¯å‡½æ•°çš„è¿”å›å€¼

- è°ƒç”¨ï¼šèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œå˜é‡åŠ ï¼ˆï¼‰ä¼ å…¥å€¼

![](https://s4.ax1x.com/2022/01/19/7Day8g.png)

![](https://s4.ax1x.com/2022/01/19/7DajVx.png)

#### ä»‹ç»ä¸¤ä¸ªå†…ç½®å‡½æ•°

##### filter()

è¿‡æ»¤å™¨

![](https://s4.ax1x.com/2022/01/19/7DdqfS.png)

filterï¼ˆè¿‡æ»¤å¯¹è±¡ï¼Œè¢«ç­›é€‰å¯¹è±¡ï¼‰

noneè¡¨ç¤ºå‡ï¼Œéœ€è¦è½¬åŒ–ä¸ºå¯è¿­ä»£å¯¹è±¡æ‰èƒ½æ‰“å°

![](https://s4.ax1x.com/2022/01/19/7Dw31e.png)

![](https://s4.ax1x.com/2022/01/19/7D0oPf.png)

```python
# ç”¨lambdaç®€åŒ–
b=list(filter(lambda x:x%2,range(10)))
```

##### map()

æ˜ å°„

![](https://s4.ax1x.com/2022/01/19/7DBowR.png)

æŠŠrangeï¼ˆ5ï¼‰ä¸­çš„å…ƒç´ ï¼ŒæŒ‰ç…§lambdaçš„å¼å­è¦æ±‚é‡æ–°è¿ç®—æˆæ–°çš„åˆ—è¡¨ï¼ˆè¿™é‡Œè½¬åŒ–ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œåˆ—è¡¨ï¼‰

------

### é€’å½’

ç±»ä¼¼cï¼Œc++

![](https://s4.ax1x.com/2022/01/19/7DrSvF.png)

æ–æ³¢é‚£å¥‘æ•°åˆ—é€’å½’å®ç°ï¼šï¼ˆåˆ†æ²»æ€æƒ³ï¼‰

![](https://s4.ax1x.com/2022/01/19/7D6J8x.png)

æ±‰è¯ºå¡”

![](https://s4.ax1x.com/2022/01/19/7DRmFJ.png)

------

### å­—å…¸(dict) { }

æ˜¯æ˜ å°„ç±»å‹ï¼Œç±»ä¼¼å­—å…¸ä¸ŠæŸ¥è¯¢å¯¹åº”é¡µç å¯ä»¥æ‰¾åˆ°è¯¥æŸ¥è¯¢å¯¹è±¡

![](https://s4.ax1x.com/2022/01/19/7DRs0S.png)

#### åˆ›å»ºå’Œè®¿é—®å­—å…¸

å­—å…¸æ˜¯å¤§æ‹¬å·ï¼Œä¸æ˜¯æ•°æ®ç±»å‹ï¼Œæ˜¯æ˜ å°„ç±»å‹

å…ƒç´ çš„å®šä¹‰`keyï¼švalue`

![](https://s4.ax1x.com/2022/01/19/7DWGj0.png)

- å°†å…ƒç»„è½¬åŒ–ä¸ºå­—å…¸

![](https://s4.ax1x.com/2022/01/19/7DWf4H.png)

- ä¹Ÿå¯ä»¥é€šè¿‡ä¹‹é—´æŒ‡å®šåˆ›å»ºå­—å…¸

![](https://s4.ax1x.com/2022/01/19/7Df7W9.png)

**æ³¨æ„**:å°ç”²é±¼ï¼Œè‹äº•ç©ºä¸èƒ½åŠ  " "

- é‡æ–°ç»™keyèµ‹å€¼

![](https://s4.ax1x.com/2022/01/19/7Dhdp9.png)



#### å†…ç½®å‡½æ•°

- fromkeysï¼ˆï¼‰ï¼Œåˆ›å»ºå¹¶ä¸”è¿”å›ä¸€ä¸ª**æ–°çš„å­—å…¸**ï¼Œsæ˜¯keyï¼Œç¬¬äºŒä¸ªå‚æ•°é»˜è®¤ä¸ºnone

![](https://s4.ax1x.com/2022/01/19/7DhT78.png)

- ä¾‹å­

![](https://s4.ax1x.com/2022/01/19/7D4Yut.png)

##### è®¿é—®å­—å…¸çš„æ–¹æ³•

###### keys()

æå–å­—å…¸çš„é”®ï¼škey

![](https://s4.ax1x.com/2022/01/19/7D5e2j.png)

![](https://s4.ax1x.com/2022/01/19/7D5uMn.png)

###### values()

åŒkeysï¼ˆï¼‰ï¼Œæå–å­—å…¸çš„å€¼

###### items()

åŒä¸Šï¼ŒæŠŠæ‰€æœ‰é¡¹æ‰“å°å‡ºæ¥ï¼Œå½¢å¦‚ï¼šï¼ˆkeyï¼Œvaluesï¼‰

![](https://s4.ax1x.com/2022/01/19/7D5UMR.png)

###### getï¼ˆï¼‰

å®šä¹‰å½“å­—å…¸å†…æ²¡æœ‰è¿™ä¸ªé¡¹çš„æ—¶å€™ï¼Œå¦‚ä½•æ‰“å°

![](https://s4.ax1x.com/2022/01/19/7D5czd.png)

###### åˆ©ç”¨æˆå‘˜èµ„æ ¼æ“ä½œç¬¦åˆ¤æ–­è¯¥é¡¹æ˜¯å¦å­˜åœ¨

in

not in

**æˆå‘˜èµ„æ ¼æ“ä½œç¬¦ï¼Œåœ¨åºåˆ—ä¸­æ˜¯ç”¨å€¼åˆ¤æ–­ï¼Œä½†æ˜¯åœ¨å­—å…¸ä¸­æ˜¯ç”¨keyåˆ¤æ–­**

![](https://s4.ax1x.com/2022/01/19/7DI9W4.png)

###### æ¸…ç©º.cleanï¼ˆï¼‰

ä½¿ç”¨   `dict.clean()`

###### æ·±æ‹·è´æµ…æ‹·è´

copyæ˜¯æµ…æ‹·è´ï¼Œèµ‹å€¼ä¸æ˜¯æµ…æ‹·è´

![](https://i.w3tt.com/2022/01/19/T1jzl.png)

###### .updata()

æ›´æ–°å­—å…¸ï¼šbä¹Ÿæ˜¯å­—å…¸

![](https://i.w3tt.com/2022/01/19/T12Pg.png)

------

### é›†åˆï¼ˆsetï¼‰

é›†åˆå†…æ•°å­—å”¯ä¸€ï¼Œä¼šè‡ªåŠ¨æŠŠé‡å¤çš„æ•°å­—å‰”é™¤ï¼›é›†åˆæ— åºï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡`index`æ¥æ‰¾å…ƒç´ 

- åˆ›å»ºç»“åˆ

  ç›´æ¥ç”¨èŠ±æ‹¬å·

  åˆ©ç”¨`setï¼ˆï¼‰`å®ç°è½¬åŒ–

```python
set1=setï¼ˆlistï¼‰
#å¯ä»¥æŠŠåˆ—è¡¨è½¬åŒ–ä¸ºé›†åˆ

num1={1,2,3,4,1ï¼Œ2}
num1
>>>{1,2,3,4}
```

#### é›†åˆå…ƒç´ çš„å¢åŠ å’Œåˆ é™¤

##### .add()

##### .remove()

#### å®šä¹‰ä¸å¯å˜é›†åˆ

`rozenset()`,åˆ›å»ºå³å¯æ— æ³•æ·»åŠ æˆ–è€…åˆ é™¤



------

## æ–‡ä»¶

![](https://s4.ax1x.com/2022/01/20/76p0Lq.png)

![](https://s4.ax1x.com/2022/01/20/76pfyR.png)

- ä½¿ç”¨å®Œæ–‡ä»¶åº”åŠæ—¶å…³é—­

```python
# æŠŠæ–‡ä»¶è½¬åŒ–ä¸ºåˆ—è¡¨
list(f)
#è¿­ä»£è¯»å–
lines=list(f)# è½¬åŒ–ä¸ºåˆ—è¡¨
for each_line in lines:
    print(each_line)
#æˆ–è€…
for each_line in f:# æ•ˆæœä¸€è‡´
    print(each_line)
```

- ç¤ºä¾‹

![](https://s4.ax1x.com/2022/01/20/769ynI.png)

- ä»¥â€˜w',å³å†™å…¥çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œè¦†ç›–



### å®é™…æ“ä½œ

#### å­—ç¬¦ä¸²æ“ä½œæ–¹æ³•

![](https://s4.ax1x.com/2022/01/20/76PQy9.png)

- splité»˜è®¤ä»¥ç©ºæ ¼åˆ’åˆ†

![](https://s4.ax1x.com/2022/01/20/76i8Xj.png)

- ç›®æ ‡ï¼šå°†æ–‡ä»¶å†…çš„è¯´è¯å†…å®¹åˆ†å¼€ä¸ºå¯¹è¯è€…æ–‡ä»¶ï¼Œè®°å½•åˆ†åˆ«è¯´çš„è¯
- å…ˆæŠŠå†…å®¹åˆ†åˆ«æ”¾åˆ°ä¸¤ä¸ªlistï¼Œä½¿ç”¨åˆ°`split`,ä½¿ç”¨æ–¹æ³•append(),å®ç°è®°å½•
- æ–‡ä»¶åå­—è®°å½•ï¼Œåˆ›å»ºæ–‡ä»¶ï¼ˆä»¥â€™w'æ‰“å¼€ï¼‰ï¼Œä»¥`.writelines`å°†åˆ—è¡¨çš„å†…å®¹å†™å…¥
- åŠæ—¶å…³é—­æ–‡ä»¶

**ä¼˜åŒ–ï¼Œå°è£…å®ç°åŠŸèƒ½åˆ†å‰²ï¼Œæ›´æ¡ç†**

![](https://s4.ax1x.com/2022/01/20/76FaqA.png)

------

### æ–‡ä»¶ç³»ç»Ÿ

#### æ¨¡å—

![](https://s4.ax1x.com/2022/01/20/76F2rj.png)

- éœ€è¦çš„æ—¶å€™æŸ¥æ–‡æ¡£

![](https://s4.ax1x.com/2022/01/20/76kdlF.png)

- æ¨¡å— `pickle `å¯ä»¥å®ç°å¯¹è±¡æŒä¹…åŒ–å‚¨å­˜
- é€šè¿‡æ–‡ä»¶ä¿å­˜ï¼Œç›¸å…³æŸ¥æ–‡æ¡£

```python
pickle_file=open('city_data.pkl','wb')
# ä»¥æ–‡æœ¬çš„å½¢å¼æ‰“å¼€ï¼Œè¦†ç›–å†™å…¥
piickle.dump(city,pickle_file)
#pickle.dump(obj, file[, protocol])

#åºåˆ—åŒ–å¯¹è±¡ï¼Œå¹¶å°†ç»“æœæ•°æ®æµå†™å…¥åˆ°æ–‡ä»¶å¯¹è±¡ä¸­ã€‚
#å‚æ•°protocolæ˜¯åºåˆ—åŒ–æ¨¡å¼ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œè¡¨ç¤ºä»¥æ–‡æœ¬çš„å½¢å¼åºåˆ—åŒ–ã€‚#protocolçš„å€¼è¿˜å¯ä»¥æ˜¯1æˆ–2ï¼Œè¡¨ç¤ºä»¥äºŒè¿›åˆ¶çš„å½¢å¼åºåˆ—åŒ–ã€‚
pickle.close()
pickle_file.close()
```

- load()æ–¹æ³•

```
pickle.load(file)
ã€€ã€€ååºåˆ—åŒ–å¯¹è±¡ã€‚å°†æ–‡ä»¶ä¸­çš„æ•°æ®è§£æä¸ºä¸€ä¸ªPythonå¯¹è±¡ã€‚
```

------

### å¼‚å¸¸å¤„ç†

- ***ï¼ˆå°ç”²é±¼ï¼š33ï¼Œ34é›†ï¼‰**

![](https://s4.ax1x.com/2022/01/20/76VGTA.png)

**tryè¯­å¥**

```
tryï¼š
exceptï¼š
elseï¼š
finally:
  f.closse()
```

1ã€ä½¿ç”¨try/except/elseç»“æ„ï¼Œtryä¸­å­˜æ”¾**éœ€è¦è¿è¡Œçš„ä»£ç **ï¼›

2ã€except ä¸­**å­˜æ”¾å¤„ç†å¼‚å¸¸çš„ä»£ç **ï¼›

3ã€elseé‡Œå­˜æ”¾tryè¯­å¥**æœªå‘ç”Ÿå¼‚å¸¸æ—¶æ‰§è¡Œçš„ä»£ç **ã€‚

```
try:
finally:
```

pythonæ€»ä¼šæ‰§è¡Œfinallyå­å¥ï¼Œæ— è®ºtryå­å¥æ‰§è¡Œæ—¶æ˜¯å¦å‘ä¸€å¼‚å¸¸ã€‚
1ã€å¦‚æœæ²¡æœ‰å‘ç”Ÿå¼‚å¸¸ï¼Œpythonè¿è¡Œtryå­å¥ï¼Œç„¶åæ˜¯finallyå­å¥ï¼Œç„¶åç»§ç»­ã€‚
2ã€å¦‚æœåœ¨tryå­å¥å‘ç”Ÿäº†å¼‚å¸¸ï¼Œpythonå°±ä¼šå›æ¥æ‰§è¡Œfinallyå­å¥ï¼Œç„¶åæŠŠå¼‚å¸¸é€’äº¤ç»™ä¸Šå±‚tryï¼Œæ§åˆ¶æµä¸ä¼šé€šè¿‡æ•´ä¸ªtryè¯­å¥ã€‚



**withè¯­å¥**

with è¯­å¥é€‚ç”¨äºå¯¹èµ„æºè¿›è¡Œè®¿é—®çš„åœºåˆï¼Œç¡®ä¿**ä¸ç®¡ä½¿ç”¨è¿‡ç¨‹ä¸­æ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œå¿…è¦çš„â€œæ¸…ç†â€æ“ä½œ**ï¼Œé‡Šæ”¾èµ„æº

æ¯”å¦‚æ–‡ä»¶ä½¿ç”¨å**è‡ªåŠ¨**å…³é—­ï¼çº¿ç¨‹ä¸­é”çš„è‡ªåŠ¨è·å–å’Œé‡Šæ”¾ç­‰ã€‚

- å®¹æ˜“å‡ºç°é—®é¢˜çš„ä»£ç ï¼ˆå¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ä¼šæŠ¥é”™ï¼‰

```
try:
    f = open('xxx')
except:
    print('fail to open')
    exit(-1)
try:
    do something
except:
    do something
finally:
    f.close()
```

- æœ‰withè¯­å¥çš„ä»£ç 

å‡å°‘å†—é•¿ï¼Œè¿˜èƒ½è‡ªåŠ¨å¤„ç†ä¸Šä¸‹æ–‡ç¯å¢ƒäº§ç”Ÿçš„å¼‚å¸¸

```
tryï¼š
with open("ï¼‘.txt") as f:
except:
    print('fail to open')
    exit(-1)
try:
    do something
except:
    do something
```

------

## ç•Œé¢å…¥é—¨

**easygui**ï¼ˆæ¨¡å—ï¼‰

- æ–‡æ¡£å­¦ä¹ å•Šå•Šå•Š

ç•Œé¢å­¦ä¹ åŠ¿åœ¨å¿…è¡Œï¼ˆeasyx or qtï¼‰ğŸ¦ğŸ¦

![img](C:/AppData/Local/Temp/SGPicFaceTpBq/21864/125D4C97.jpg)

------

## ç±»å’Œå¯¹è±¡

### åŸºç¡€

**å¯¹è±¡=å±æ€§+æ–¹æ³•**

**å±æ€§ï¼š**å˜é‡

**æ–¹æ³•ï¼š**å‡½æ•°

**ç±»åè¦ä»¥å¤§å†™å­—æ¯å¼€å¤´**

- å’Œc++ç±»å’Œå¯¹è±¡çš„åˆ›å»ºå’Œè°ƒç”¨ç›¸ä¼¼

![](https://s4.ax1x.com/2022/01/20/76QGGj.png)

- å°è£…ï¼ŒåŸºç¡€ï¼Œå¤šæ€

**ç»§æ‰¿å¯ä»¥ç»§æ‰¿æ–¹æ³•**

![](https://s4.ax1x.com/2022/01/20/76Qqyt.png)

è¿™é‡Œï¼Œlistçš„æ–¹æ³•è¢«ç»§æ‰¿ï¼Œæ‰€ä»¥ç±»Mylistçš„å¯¹è±¡å¯ä»¥ä½¿ç”¨appendå’Œsort

æ–¹æ³•

**passæ˜¯å ä½ç¬¦**



**å¤šæ€**

![](https://s4.ax1x.com/2022/01/20/76lYkD.png)

å°±æ˜¯åŒåå‡½æ•°çš„å¤šç§å®ç°



### é¢å‘å¯¹è±¡ç¼–ç¨‹

**ooaï¼šé¢å‘å¯¹è±¡åˆ†æ**

**oopï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹**

**oodï¼šé¢å‘å¯¹è±¡è®¾è®¡**

**selfç›¸å½“äºc++çš„thisæŒ‡é’ˆ**ï¼Œå®ç°**æŒ‡å‘**è‡ªèº«å˜é‡

![](https://s4.ax1x.com/2022/01/20/76szAe.png)

#### ___init__-(self)æ–¹æ³•

ï¼ˆç±»ä¼¼ï¼Œc++ä¸­çš„æ„é€ å‡½æ•°ï¼ŒåŒåé‡å†™æ–¹æ³•ï¼Œåˆ›å»ºå¯¹è±¡çš„æ—¶å€™ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼‰

 å®šä¹‰äº† `__init__()` æ–¹æ³•åï¼Œç±»çš„**å®ä¾‹åŒ–æ“ä½œä¼šè‡ªåŠ¨è°ƒç”¨è¯¥æ–¹æ³•**

![](https://s4.ax1x.com/2022/01/20/76yIDf.png)

#### å…¬æœ‰å’Œç§æœ‰

name mangling:åå­—é‡é€ 

åœ¨pythonä¸­å®šä¹‰ç§æœ‰å˜é‡åªéœ€è¦åœ¨å˜é‡åæˆ–è€…å‡½æ•°åå‰åŠ ä¸Š**"__"**,ä¸¤ä¸ªä¸‹åˆ’çº¿ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°æˆ–è€…å˜é‡å°±**ä¼šå˜ä¸ºç§æœ‰**

ä½†æ˜¯å…¶å®å¯ä»¥é€šè¿‡`_ç±»å__æˆå‘˜å˜é‡`æ‰¾åˆ°è¿™ä¸ªç§æœ‰ç±»

![](https://s4.ax1x.com/2022/01/20/76gicR.png)

#### ç»§æ‰¿

![](https://s4.ax1x.com/2022/01/20/76Rpl9.png)

**ç»§æ‰¿æ˜¯é€šè¿‡ class ç±»å ï¼ˆçˆ¶ç±»åï¼‰**

pythonä¸­æ²¡æœ‰ç»§æ‰¿çš„å…³é”®å­—

**å¤šé‡ç»§æ‰¿**

è¯­æ³•`class ç±»å (çˆ¶ç±»1ï¼Œçˆ¶ç±»2)Â·



#### **randomï¼ˆï¼‰å‡½æ•°**

**random()** æ–¹æ³•è¿”å›éšæœºç”Ÿæˆçš„ä¸€ä¸ªå®æ•°ï¼Œå®ƒåœ¨[0,1)èŒƒå›´å†…ã€‚

ä»¥ä¸‹æ˜¯ random() æ–¹æ³•çš„è¯­æ³•:

```
import random

random.random()
```

**æ³¨æ„ï¼š**random()æ˜¯ä¸èƒ½ç›´æ¥è®¿é—®çš„ï¼Œéœ€è¦**å¯¼å…¥ random æ¨¡å—ï¼Œç„¶åé€šè¿‡ random é™æ€å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•ã€‚**



#### ç¤ºä¾‹

å­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•æˆ–è€…å®ä¾‹åŒ–ï¼Œå°±ä¼šæŠŠçˆ¶ç±»ç›¸åº”çš„æ–¹æ³•æˆ–è€…å®ä¾‹åŒ–è¦†ç›–æ‰

![](https://s4.ax1x.com/2022/01/20/76Wlv9.png) 

è¿™é‡Œsharkï¼ˆï¼‰inité‡å†™ï¼ˆå®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™è‡ªåŠ¨è°ƒç”¨ï¼‰

å¯¼è‡´sharkç±»ä¸­æ²¡æœ‰æˆå‘˜xï¼Œyï¼Œå› ä¸ºçˆ¶ç±»çš„å®ä¾‹åŒ–è¢«è¦†ç›–

##### è§£å†³é—®é¢˜

- ç¬¬ä¸€ç§æ–¹æ³•

![](https://s4.ax1x.com/2022/01/20/76Wf2Q.png)

åªéœ€è¦åœ¨é‡å†™å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œé¦–å…ˆå¯¹çˆ¶ç±»çš„ç¤ºä¾‹è¯ç»§æ‰¿

è¯­æ³•:`çˆ¶ç±»å.-init-(self)`

- ç¬¬äºŒç§æ–¹æ³•

ä½¿ç”¨`super()`å‡½æ•°

è¯­æ³•ï¼š`super().-init-()`

![](https://s4.ax1x.com/2022/01/20/76fmqI.png)



------

#### ç»„åˆ

![](https://s4.ax1x.com/2022/01/20/76hFwq.png)

**ç»„åˆå°±æ˜¯æŠŠç±»çš„å®ä¾‹åŒ–æ”¾åˆ°ä¸€ä¸ªæ–°ç±»é‡Œé¢ï¼Œä¸éœ€è¦ç»§æ‰¿**





## ç±»ï¼Œç±»å¯¹è±¡å’Œå®ä¾‹å¯¹è±¡

![](https://s4.ax1x.com/2022/01/20/764sbR.png)

![](https://s4.ax1x.com/2022/01/20/7647VI.png)

- å…ˆæŠŠcçš„countèµ‹å€¼ï¼Œè¿™ä¸ªæ—¶å€™ä¼šå¤šå‡ºä¸€ä¸ªå®ä¾‹å±æ€§å¹¶ä¸”**æŠŠåŸæ¥é‚£ä¸ªç±»å±æ€§è¦†ç›–**



**å±æ€§å’Œæ–¹æ³•çš„åå­—ç›¸åŒï¼Œå±æ€§ä¼šæŠŠæ–¹æ³•çš„åå­—è¦†ç›–æ‰**

![](https://s4.ax1x.com/2022/01/20/765sSS.png)

- pythonæ˜¯ä¸éœ€è¦å£°æ˜å¯¹è±¡ï¼Œé‚£ä¹ˆ
- `c.x=1`è¡¨ç¤ºåˆå§‹åŒ–ä¸€ä¸ªå˜é‡ï¼Œå±äºcï¼Œå°±æ˜¯cçš„æˆå‘˜
- è¿™ä¸ªæ—¶å€™ä¼šæŠŠåŒåçš„`x()`æ–¹æ³•è¦†ç›–



### ç»‘å®š

pythonä¸¥æ ¼è¦æ±‚æ–¹æ³•éœ€è¦æœ‰å®ä¾‹æ‰èƒ½è¢«è°ƒç”¨ï¼Œè¿™ç§é™åˆ¶å…¶å®å°±æ˜¯pythonæ‰€è°“çš„ç»‘å®šæ¦‚å¿µ

**self**

![](https://s4.ax1x.com/2022/01/20/76op40.png)

### ä¸€äº›BIFï¼ˆbuild in Functionsï¼‰

#### issubclassï¼ˆclassï¼Œclassinfoï¼‰

å¦‚æœclassæ˜¯classinfoçš„å­ç±»ï¼Œå°±è¿”å›True

classinfoå¯ä»¥æ˜¯ç±»å¯¹è±¡ç»„æˆçš„å…ƒç»„ï¼Œåªè¦classæ˜¯å…¶ä¸­ä»»ä½•ä¸€ä¸ªå€™é€‰ç±»çš„å­ç±»ï¼Œå°±ä¼šè¿”å›True



#### isinstanceï¼ˆobjectï¼Œclassinfoï¼‰

æ£€æŸ¥objectæ˜¯å¦ä¸ºç±»çš„å®ä¾‹å¯¹è±¡

å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œä¼šæ°¸è¿œè¿”å›Falseï¼›

å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯å…ƒç»„æˆ–è€…ç±»ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªtyperrorçš„å¼‚å¸¸



#### hasattrï¼ˆobjectï¼Œnameï¼‰

æµ‹è¯•å¯¹è±¡æ˜¯å¦æœ‰å±æ€§ï¼Œnameæ˜¯å±æ€§åï¼Œobjectæ˜¯å¯¹è±¡



#### gettattrï¼ˆobjectï¼Œname[,defaulf]

è¿”å›å¯¹è±¡æŒ‡å®šçš„å±æ€§å€¼



#### setattr(object,name,value)

è®¾ç½®æŒ‡å®šå¯¹è±¡çš„å±æ€§



#### delattr(object,name)

åˆ é™¤æŒ‡å®šå¯¹è±¡çš„å±æ€§



#### propertyï¼ˆfget=Noneï¼Œfset=Noneï¼Œfdel=None,doc=None)

é€šè¿‡å±æ€§è®¾ç½®å±æ€§



**ç­‰ç­‰éœ€è¦çš„æ—¶å€™æŸ¥æ–‡æ¡£**

------

## é­”æ³•æ–¹æ³•

### æ„é€ å’Œææ„

![](https://s4.ax1x.com/2022/01/20/76jxQ1.png)



### -new-ï¼ˆcls[,...])

![](https://s4.ax1x.com/2022/01/20/76xHC4.png)

å­—ç¬¦ä¸²stræ˜¯ä¸å¯ä»¥è¢«æ”¹å˜çš„ç±»å‹ï¼Œå°†ä¼ å…¥çš„å­—ç¬¦ä¸²æ”¹ä¸ºå¤§å†™ï¼Œå¯ä»¥è°ƒç”¨newæ–¹æ³•ï¼Œåœ¨newæ–¹æ³•é‡Œé¢è°ƒç”¨upperï¼ˆï¼‰æ–¹æ³•ï¼Œè·å¾—æ–°çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ—¶ï¼Œè°ƒç”¨newæ–¹æ³•æŠŠåˆšæ‰æ–°çš„stringè¿”å›



### -del-ï¼ˆselfï¼‰

python çš„åƒåœ¾å›æ”¶æœºåˆ¶

**ç¤ºä¾‹**

![](https://s4.ax1x.com/2022/01/20/7c9RiT.png)

delæ‰æ ‡ç­¾ä¸ä¼šè°ƒç”¨delï¼Œåªæœ‰å¯¹è±¡è¢«delæ‰æ‰è¡Œ

ç±»ä¼¼c++çš„ææ„

### ç®—æœ¯è¿ç®—

**å·¥å‚å‡½æ•°å°±æ˜¯ç±»å¯¹è±¡**

![](https://s4.ax1x.com/2022/01/20/7cPwuj.png)

**ç±»ä¼¼c++é‡è½½**

![](https://s4.ax1x.com/2022/01/20/7cPRv4.png)

å…¶ä¸­selfæŒ‡è‡ªèº«ï¼Œotherè¡¨ç¤ºå’Œselfå®ç°è¿ç®—çš„å¦ä¸€ä¸ªå˜é‡

**ç¤ºä¾‹**

![](https://s4.ax1x.com/2022/01/20/7ciOYV.png)

**è§£å†³**

![](https://s4.ax1x.com/2022/01/20/7cF9m9.png)



ï¼ˆç­‰ç­‰ï¼Œè¿ç®—ç¬¦é‡è½½ï¼‰

**åè¿ç®—ï¼ša+bï¼Œå½“aæ— æ³•å®ç°ï¼Œå°±ä¼šè®©bå®ç°**

![](https://s4.ax1x.com/2022/01/20/7gK9ln.png)

**ç¤ºä¾‹**ï¼š

![](https://s4.ax1x.com/2022/01/20/7gKWXq.png)

è¿™é‡Œ1æ²¡åŠæ³•è°ƒç”¨ï¼Œå°±ä¼šå¯åŠ¨bçš„åè¿ç®—

**è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ–¹æ³•magically**

![](https://s4.ax1x.com/2022/01/20/7gMu4g.png)

------



## ç®€å•å®šåˆ¶

**è¦æ±‚**

![](https://s4.ax1x.com/2022/01/20/7gMgUO.png)

**éœ€è¦çš„çŸ¥è¯†**

![](https://s4.ax1x.com/2022/01/20/7gQAG4.png)

**time.localtime([secs])**

æ¥æ”¶æ—¶é—´æˆ³ï¼Œè¿”å›å½“åœ°å½“ä¸‹æ—¶é—´**å…ƒç»„t**

![](https://s4.ax1x.com/2022/01/20/7gQwo8.png)

**ä»£ç å®ç°**

```python
import time as t
class Mytimer():
    def _init_ (self):
        self.prompt="è®¡æ—¶æœªå¼€å§‹"
        self.lasted=[]
        # self.start=0æ³¨æ„ä¸è¦å’Œæ–¹æ³•åå­—é‡å¤ï¼Œå¦åˆ™å˜é‡ä¼šè¦†ç›–æ–¹æ³•
        self.begin=0
        self.end=0
    def _str_ (self):
        #å½“ä½¿ç”¨printè¾“å‡ºå¯¹è±¡çš„æ—¶å€™ï¼Œåªè¦è‡ªå·±å®šä¹‰äº†__str__(self)æ–¹         æ³•ï¼Œé‚£ä¹ˆå°±ä¼šæ‰“å°ä»åœ¨è¿™ä¸ªæ–¹æ³•ä¸­returnçš„æ•°æ®
        return self.prompt
    _repr_=_str_
    #é‡å†™reprï¼Œstrè®©å¯¹è±¡åˆ›å»ºåè°ƒç”¨å¯ä»¥ç›´æ¥æ˜¾ç¤ºç»“æœ
    #å¼€å§‹è®¡æ—¶
    def start(self):
        self.begin=t.localtime()
        print("å¼€å§‹è®¡æ—¶")
    #åœæ­¢è®¡æ—¶
    def stop(self):
        if not self.begin:
            print("è°ƒç”¨startå¼€å§‹è®¡æ—¶")
        else:
            
          self.end=t.localtime()
          self._clas()#è°ƒç”¨æ–¹æ³•
           print("è®¡æ—¶ç»“æŸ")
    #å†…éƒ¨æ–¹æ³•ï¼Œè®¡ç®—è¿è¡Œæ—¶é—´
    def _clas(self):
        self.lasted=[]
        self.prompt="æ€»å…±è¿è¡Œäº†:"
        for index in range(6):
            self.lasted.append(self.stop[index]-self.start[index])
            self.prompt+=str(self.lasted[index])
       # print(self.prompt)
    #ä¸ºä¸‹ä¸€è½®åšå‡†å¤‡
        self.begin=0
        self.end=0
```



 **def _str_ (self)**:
       ** å½“ä½¿ç”¨printè¾“å‡ºå¯¹è±¡çš„æ—¶å€™ï¼Œåªè¦è‡ªå·±å®šä¹‰äº†__str__(self)æ–¹         æ³•ï¼Œé‚£ä¹ˆå°±ä¼šæ‰“å°ä»åœ¨è¿™ä¸ªæ–¹æ³•ä¸­returnçš„æ•°æ® **





# çˆ¬è™«

## åŸºæœ¬ç¯‡

**åŸºæœ¬æµç¨‹**

- è¿æ¥åˆ°ç‰¹å®šç½‘å€ï¼ŒæŠ“å–èµ„æ–™
- è§£æèµ„æ–™ï¼Œå–å¾—æƒ³è¦çš„éƒ¨åˆ†



1. **Request**è‡ªåŠ¨çˆ¬å–é¡µé¢æäº¤è¯·æ±‚
2. **robots.txt**çˆ¬è™«æ’é™¤æ ‡å‡†
3. **Beautiful Soup**è§£æHTMlé¡µé¢
4. åˆ©ç”¨**æ­£åˆ™è¡¨è¾¾å¼**è¯¦è§£æå–é¡µé¢å…³é”®ä¿¡æ¯



**æŠ“å–èµ„æ–™**

å°½å¯èƒ½è®©ç¨‹åºæ¨¡ä»¿ä¸€ä¸ªæ™®é€šä½¿ç”¨è€…çš„ä½¿ç”¨æƒ…å†µ

- å¦‚æœæ˜¯jsonæ¨¡å¼çš„èµ„æ–™ï¼Œç”¨pythonå†…å»ºçš„jsonæ¨¡æ¿æ¥æŠ“å–å³å¯
- ä½†æ˜¯å¤§éƒ¨åˆ†æ˜¯HTMLæ ¼å¼çš„èµ„æ–™ï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹å¥—ä»¶ **Beautifulsuop**æ¥è§£æ





## åŸºæœ¬ä»£ç 

```python
# æŠ“å–ç½‘é¡µçš„åŸå§‹ç ï¼ˆHTMlï¼‰
import urllib.request as req
# åˆ©ç”¨å†…ç½®å¥—ä»¶åšç½‘ç»œçš„è¿çº¿
url="https://movie.douban.com/top250"
# å»ºç«‹ä¸€ä¸ªRequestç‰©ä»¶ï¼Œé™„åŠ Request Headersçš„èµ„è®¯
request=req.Request(url,headers={
    "User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/98.0.4758.80 Safari/537.36 Edg/98.0.1108.50"
})
with req.urlopen(request) as response:
    data=response.read().decode("utf-8")
#print(data)
import bs4#åšè§£æ
root=bs4.BeautifulSoup(data,"html.parser")
#ä¼šç”¨html.parserå¸®æˆ‘ä»¬åšè§£æ
#æ¯”å¦‚è¦è·å–ç½‘é¡µçš„æ ‡é¢˜ï¼Œç”¨rootä»£è¡¨æ•´ä»½ç½‘é¡µï¼Œtitleæ˜¯ä¸€ä¸ªç½‘é¡µçš„æ ‡ç­¾
print(root.title.string)#.stringè¡¨ç¤ºæŠ“åˆ°æ ‡ç­¾titleé‡Œé¢çš„æ–‡å­—,å°±æŠ“åˆ°ç½‘é¡µçš„æ ‡é¢˜
"""
æŠ“å–æ–‡ç« çš„æ ‡é¢˜,éœ€è¦è§‚å¯Ÿæºç æ–‡ç« æ ‡é¢˜çš„å…±åŒç‚¹:
<div class=''>
</div>
å°±æ˜¯å…±åŒç‚¹
"""
titles=root.find_all("span",class_="title")
"""
""å†…æ˜¯è¦æ‰¾å¯»çš„æ ‡ç­¾åç§°ï¼Œclass_="title"æ˜¯ç­›é€‰çš„æ¡ä»¶
.find_allå°±æ˜¯æ‰¾åˆ°æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ ‡ç­¾
ä¼šè¿”å›åˆ—è¡¨
"""
for title in titles:
    print(title)
"""
è¿™æ ·åªä¼šæå–æ–‡å­—ï¼Œä¸ä¼šé™„åŠ <span>ç­‰ä»£ç 
 titlesè¡¨ç¤ºspan
.aä»£è¡¨ç¬¦åˆæ¡ä»¶çš„ä¼šè¢«æ‰“å°çš„title
.stringä»£è¡¨å†…å®¹
"""
```





## Requestsåº“å…¥é—¨

### ä¸»è¦æœ‰7ä¸ªæ–¹æ³•

#### requests.request()

æ„é€ ä¸€ä¸ªè¯·æ±‚ï¼Œæ”¯æ’‘ä¸€ä¸‹å„æ–¹æ³•çš„åŸºç¡€æ–¹æ³•



#### requests.get()

è·å–HTMLç½‘é¡µçš„ä¸»è¦æ–¹æ³•ï¼Œå¯¹åº”äºHTTPçš„GET  ![](https://s4.ax1x.com/2022/02/15/HRkFPK.png)![](https://s4.ax1x.com/2022/02/15/HRFN4K.png)



- Responseå¯¹è±¡çš„å±æ€§ï¼š

![](https://s4.ax1x.com/2022/02/15/HRk8xg.png)

å…¶ä¸­ï¼š

`encoding`å’Œ`apparent_encoding`æœ‰å†…å±‚åŒºåˆ«

![](https://s4.ax1x.com/2022/02/15/HRAies.png)

#### requests.head()

è·å–HTMLç½‘é¡µå¤´ä¿¡æ¯çš„æ–¹æ³•ï¼Œå¯¹åº”äºHTTPçš„HEAD

![](https://s4.ax1x.com/2022/02/15/HRJYV0.png)

#### requests.post()

æƒ³HTMLç½‘é¡µæäº¤POSTè¯·æ±‚çš„æ–¹æ³•ï¼Œå¯¹åº”äºHTTPçš„POST

![](https://s4.ax1x.com/2022/02/15/HRJaPU.png)

#### requests.put()

å‘HTMLç½‘é¡µæäº¤PUTè¯·æ±‚çš„æ–¹æ³•ï¼Œå¯¹åº”äºHTTPçš„PUt

![](https://s4.ax1x.com/2022/02/15/HRYOTx.png)

#### requests.patch()

å‘HTMLç½‘é¡µæäº¤å±€éƒ¨ä¿®æ”¹è¯·æ±‚ï¼Œå¯¹åº”äºHTTPçš„PATCH

#### requests.delete()

å‘HTMLçš„ç½‘é¡µæäº¤åˆ é™¤è¯·æ±‚ï¼Œå¯¹åº”äºHTTPçš„DELETE

### çˆ¬å–ç½‘é¡µçš„é€šç”¨ä»£ç æ¡†æ¶

ç†è§£ä»£ç æ¡†æ¶ï¼š **å¼‚å¸¸éœ€è¦é‡è§†**

#### äº†è§£HTTPåè®®

![](https://s4.ax1x.com/2022/02/15/HREM38.png)



HTTPåè®®**æœ‰ç›¸åº”çš„æ–¹æ³•ï¼š**

![](https://s4.ax1x.com/2022/02/15/HRZnl8.png)

- å…¶ä¸­ï¼Œäº†è§£putå’Œpostçš„åŒºåˆ«ï¼š

![](https://s4.ax1x.com/2022/02/15/HRQlvt.png)



HTTPåè®®çš„æ–¹æ³•ä¸Requestsåº“**å¯¹åº”**

![](https://s4.ax1x.com/2022/02/15/HRQlvt.png)



#### äº†è§£Requestsåº“çš„å¼‚å¸¸

![](https://s4.ax1x.com/2022/02/15/HRlvY4.png)

æœ‰ä¸€ä¸ªå‡½æ•°æ–¹æ³•ï¼š

**r.raise_for_status()**

![](https://s4.ax1x.com/2022/02/15/HR1QnP.png)



#### çˆ¬å–ç½‘é¡µçš„ä»£ç æ¡†æ¶

![](https://s4.ax1x.com/2022/02/15/HR1aXq.png)

```python
import requests
def getHTMLTXT(url):
    try:
        r=requests.get(url,timeout=30)
        r.raise_for=status()
        r.encoding=r.qppqrent_encoding
        return r.text
    expect:
        return"å¼‚å¸¸å¤„ç†"
if__name__=="__main__":
    url="heep://"
    print(getHTMLTXT(url))
```

**r.raise_for_status()**

è¡¨ç¤ºï¼šå¦‚æœè½¬å°ä¸æ˜¯200ï¼Œå¼•å‘HTTPErrorå¼‚å¸¸



### å¯¹**kwargså‚æ•°çš„ç†è§£

åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š

- **requests.request(method,url,kwargs) **

**kwargsï¼Œæœ‰13ä¸ªå‚æ•°**

![](https://s4.ax1x.com/2022/02/15/HRG96s.png)

**methodï¼ŒåŒ…å«Requestsçš„7ç§æ–¹æ³•**

![](https://s4.ax1x.com/2022/02/15/HRGzE6.png)

- **requests.method(url,kwargs)**



#### params

![](https://s4.ax1x.com/2022/02/15/HRtb8S.png)



#### data



#### json

![](https://s4.ax1x.com/2022/02/15/HRNmUx.png)



#### headers

![](https://s4.ax1x.com/2022/02/15/HRNfRU.png)

å¯ä»¥æ›´æ¢é€‰æ‹©æµè§ˆå™¨



#### cookies

![](https://s4.ax1x.com/2022/02/15/HRNjzD.png)



#### auth



#### files

![](https://s4.ax1x.com/2022/02/15/HRUeyQ.png)



#### timeout

![](https://s4.ax1x.com/2022/02/15/HRaKje.png)



#### proxies

![](https://s4.ax1x.com/2022/02/15/HRaN38.png)



#### allow_redirects

#### stream

#### verify

#### cert

![](https://s4.ax1x.com/2022/02/15/HRa0Bj.png)





### å•å…ƒå°ç»“

æœ€å¸¸ç”¨çš„ï¼Œrequests.get(),request.head()

![](https://s4.ax1x.com/2022/02/15/HRwdTs.png)

æœ€åŸºæœ¬çš„ä»£ç æ¡†æ¶

![](https://s4.ax1x.com/2022/02/15/HRwcXF.png)





# ç½‘ç»œçˆ¬è™«å¼•å‘çš„é—®é¢˜

![](https://s4.ax1x.com/2022/02/16/HfQdxA.png)

## Robotsåè®®

ä½œç”¨ï¼šå‘Šè¯‰ç½‘ç»œçˆ¬è™«å“ªäº›å¯ä»¥æŠ“å–ï¼Œå“ªäº›æ˜¯ä¸å…è®¸çš„

![](https://s4.ax1x.com/2022/02/16/HflOk8.png)

## Robotsåè®®çš„éµå®ˆæ–¹å¼

ç½‘ç»œçˆ¬è™«ï¼šè‡ªåŠ¨æˆ–äººå·¥è¯†åˆ«Robotsåè®®ï¼Œå†è¿›è¡Œå†…å®¹çˆ¬å–

çº¦æŸæ€§ï¼šRobotsåè®®æ˜¯å»ºè®®å½“æ—¶éçº¦æŸæ€§ï¼Œç½‘ç»œçˆ¬è™«å¯ä»¥ä¸éµå®ˆï¼Œä½†æ˜¯å­˜åœ¨æ³•å¾‹é£é™©

![](https://s4.ax1x.com/2022/02/16/Hf8PiT.png)



# å®æˆ˜

## äº¬ä¸œå•†å“é¡µé¢

```python
import requests
url="https://item.jd.com/2967929.html"
try:
    r=requests.get(url)
    r.raise_for_status()
    r.encoding=r.apparent_encoding
    print(r.text[:1000])
except:
    print("çˆ¬å–å¤±è´¥")    
```



## äºšé©¬é€Šå•†å“é¡µé¢

```python
import requests
"""
r.request.headersï¼ŒæŸ¥æ‰¾å¤´éƒ¨å‘ç°æ˜¾ç¤ºä¸ºpython
æ‰€ä»¥éœ€è¦ç”¨åˆ°headerså­—æ®µæ”¹å¤´éƒ¨ä¿¡æ¯
"""
url="https://www.amazon.cn/gp/product/B01M8L5Z3Y"
try:
    kv={'user-agent':'Mozilla/5.0'}#å®šä¹‰æ–°çš„å¤´éƒ¨é”®å€¼å¯¹
    r=requests.get(url,headers=kv)#ä½¿ç”¨headerså­—æ®µ
    r.raise_for_status()
    r.encoding=r.apparent_encoding
    print(r.text[1000:2000])
except:
    print("çˆ¬å–å¤±è´¥")
```



## ç™¾åº¦/360æœç´¢å…³é”®å­—æäº¤

**æœç´¢å¼•æ“å…³é”®å­—æäº¤æœ‰æ¥å£ï¼š**

æ¯”å¦‚ï¼Œç™¾åº¦å…³é”®è¯æ¥å£ï¼šhttps://www.baidu.com/s?wd=keyword

â€‹            360å…³é”®è¯æ¥å£ï¼šhttps:///www.so.com?q=keyword

- æˆ‘ä»¬å¯ä»¥ä¿®æ”¹è¿æ¥keywordéƒ¨åˆ†ï¼Œå°±å¯ä»¥æäº¤å…³é”®è¯



ç™¾åº¦æœç´¢å…¨ä»£ç 

```python
import requests
url="https://www.daidu.com/s"
keyword="python"
try:
    kv={'wd':keyword}
    r=requests.get(url,params=kv)
    print(r.request.url)
    r.raise_for_status()
    print(len(r.text))
except:
    print("çˆ¬å–å¤±è´¥")
```

360æœç´¢å…¨ä»£ç 

```python
import requests
url="https://www.so.com/s"
keyword="python"
try:
    kv={'q':keyword}
    r=requests.get(url,params=kv)
    print(r.request.url)
    r.raise_for_status()
    print(len(r.text))
except:
    print("çˆ¬å–å¤±è´¥")
```





## ç½‘ç»œå›¾ç‰‡çš„çˆ¬å–å’Œå­˜å‚¨

![](https://s4.ax1x.com/2022/02/16/HfvcWQ.png)

```python
import requests
path="D:/abc.jpg"
url="  "#å¡«å…¥è¯¥ç…§ç‰‡çš„webåœ°å€
r=requests.get(url)
print(r.status_code)
with open(path,'wb')as f:
    f.write(r.content)
    #f.write(r.content)æŠŠæ–‡ä»¶è¿”å›äºŒè¿›åˆ¶å½¢å¼
f.close()#æŠŠæ–‡ä»¶å…³é—­
```



**ç½‘ç»œçˆ¬å–çš„å…¨ä»£ç **

```python
import requests
import os
url=" "#è¦çˆ¬å–çš„å›¾ç‰‡webåœ°å€
root="D://pics//"#æœ¬åœ°å­˜å‚¨çˆ¬å–çš„å›¾ç‰‡çš„æ ¹ç›®å½•
path=root+url.split('/')[-1]
#å–urlæœ€åä¸€ä¸ª/åçš„éƒ¨åˆ†,å°±æ˜¯å›¾ç‰‡çš„åå­—
try:
    if not os.path.exists(root):
        os.mkdir(root)
    if not os.path.exists(path):
        r=requests.get(url)
        with open(path,'wb') as f:
            f.write(r.content)
            f.close()
            print("æ–‡ä»¶ä¿å­˜æˆåŠŸ")
    else:
        print("æ–‡ä»¶å·²ç»å­˜åœ¨")
except:
    print("çˆ¬å–å¤±è´¥")
```



## IPåœ°å€å½’å±åœ°è‡ªåŠ¨æŸ¥è¯¢

iP138çš„ç½‘ç«™æä¾›è¿™æ ·çš„åŠŸèƒ½ï¼šæŸ¥è¯¢ipåœ°å€

iP138ç½‘ç«™çš„ç½‘å€ï¼šhttp://m.ip138.com/ip.asp?ip=ipaddress

å¯ä»¥çœ‹å‡ºç½‘é¡µé“¾æ¥çš„ç‰¹å¾ï¼Œä¼šåœ¨idåé¢æ˜¾ç¤ºåœ°å€ï¼Œæˆ‘ä»¬è€ƒç§‘ä¸€é€šè¿‡urlæ¥å£çˆ¬å–åœ°å€ä¿¡æ¯

```python
import requests
url="http://m.ip138.com/ip.asp?ip=ipaddress"
#ip=ipaddresså°±æ˜¯ipåœ°å€
#æˆ‘ä»¬ç”¨requestsçš„æ–¹æ³•æäº¤ä¸€ä¸ªipåœ°å€
url="http://m.ip138.com/ip.asp?ip"
r=requests.get(url+'202.204.80.112')
#æ£€æµ‹ä¸€ä¸‹çŠ¶æ€ç 
print(r.status_code)
#æŸ¥çœ‹è¿”å›æ–‡æœ¬çš„ç›¸å…³å†…å®¹
print(r.text[-500:])
```



- ipåœ°å€æŸ¥è¯¢çš„å…¨ä»£ç 

```python
import requests
url="http://m.ip138.com/ip.asp?ip"
try:
    r=requests.get(url+'202.204.80.112')
    r.raise_for_status()
    r.encoding=r.apparent_encoding
    print(r.text[-500:])
except:
    print("çˆ¬å–å¤±è´¥")
```





# **Beautiful Soup**

## åº“çš„åŸºæœ¬å…ƒç´ 

**Beaytiful Soup**èƒ½å¤Ÿè§£æHTMLç½‘é¡µ

![](https://s4.ax1x.com/2022/02/16/Hhd6Nd.png)

- å¯¹æ ‡ç­¾æ ‘çš„ç†è§£

![](https://s4.ax1x.com/2022/02/16/Hhw9UJ.png)

- åº“çš„å¼•ç”¨

![](https://s4.ax1x.com/2022/02/16/Hhwl8I.png)

- Beautiful Soupå’ŒHTMLå¯¹åº”ï¼Œèƒ½è§£æHTML

![](https://s4.ax1x.com/2022/02/16/Hhw2a4.png)

- Beautiful Soupåº“è§£æå™¨

![](https://s4.ax1x.com/2022/02/16/Hh08Y9.png)



## bs4çš„åŸºæœ¬ä½¿ç”¨ä»£ç 

```python
from bs4 import BeautifulSoup
soup=BeautifulSoup('<p>data</p>','html.parser')
```

- æ¯”å¦‚ä¾‹å­

```python
import requests
url="http://python123.io/ws/demo.html"
r=requests.get(url)
demo=r.text
from bs4 import BeautifulSoup
soup=BeautifulSoup(demo,"html.parser")
print(soup.prettify())
```



## è·å¾—tagå…ƒç´ çš„ç›¸å…³æ–¹æ³•

```python
import requests
url="http://python123.io/ws/demo.html"
r=requests.get(url)
demo=r.text
from bs4 import BeautifulSoup
soup=BeautifulSoup(demo,"html.parser")
#print(soup.prettify())
# print(soup.title)
```

- è·å–é“¾æ¥æ ‡ç­¾å†…å®¹ï¼Œç”¨.a

```python
##è·å¾—aæ ‡ç­¾çš„åå­—
print(soup.a.name)
```

- è·å–pæ ‡ç­¾å†…å®¹ï¼Œç”¨.p

```python
#è·å¾—pæ ‡ç­¾çš„åå­—
print(soup.p.name)
```

- æŸ¥è¯¢çˆ¶æ ‡ç­¾çš„ä¿¡æ¯ï¼Œæ¯”å¦‚åå­—

```python
#è·å¾—açˆ¶æ ‡ç­¾çš„åå­—
tag=soup.a
print(tag.parent.name)
#æŸ¥çœ‹açˆ¶æ ‡ç­¾çš„çˆ¶æ ‡ç­¾æ˜¯è°
print(tag.parent.parent.name)
```

- ç”¨attrsæ¥è·å–æ ‡ç­¾å±æ€§

```python
#ç”¨.attrsæ¥è·å–æ ‡ç­¾å±æ€§
print(tag.attrs)
#ç”±äºå®ƒæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å­—å…¸å¯¹æ¯ä¸€ä¸ªå±æ€§å®ç°æå–
#æ¯”å¦‚æˆ‘ä»¬å¸Œæœ›è·å¾—classå±æ€§çš„å€¼
print(tag.attrs['class'])
print(tag.attrs['href'])
```

- è·å–æ ‡ç­¾é—´çš„stringå†…å®¹

```python
#è·å–stringå†…å®¹
#è·å¾—aæ ‡ç­¾çš„å†…å®¹
print(soup.a.string)
#è·å–pæ ‡ç­¾çš„å†…å®¹
print(soup.p.string)
```

- æ–°çš„â€œæ±¤â€

```python
newsoup=BeautifulSoup("<b><!--This is a comment--></b><p>This is not a comment</p>","html.parser")
print(newsoup.b.string)
print(type(newsoup.b.string))
print(newsoup.p.string)
print(type(newsoup.p.string))
```



## åŸºäºbs4åº“çš„HTMLçš„å†…å®¹éå†æ–¹æ³•

### htmlçš„æ ‡ç­¾æ ‘

![](https://s4.ax1x.com/2022/02/16/Hhhxr4.png)

#### ä¸‹è¡Œéå†

![](https://s4.ax1x.com/2022/02/16/HhIMgf.png)

- contensä¸¾ä¾‹

![](https://s4.ax1x.com/2022/02/16/HhoZsU.png)

- ä½¿ç”¨éå†æ¥æŠ“å–å­å­™èŠ‚ç‚¹çš„å†…å®¹

![](https://s4.ax1x.com/2022/02/16/Hho1Rx.png)



#### ä¸Šè¡Œéå†

![](https://s4.ax1x.com/2022/02/16/Hhoaod.png)

- ä¸Šè¡Œéå†çš„ä»£ç ï¼Œæ³¨æ„éœ€è¦åˆ¤æ–­æ˜¯å¦æœ‰çˆ¶æ ‡ç­¾

![](https://s4.ax1x.com/2022/02/16/HhTPmD.png)



#### å¹³è¡Œéå†

![](https://s4.ax1x.com/2022/02/16/HhT3kj.png)

**æ ‡ç­¾çš„å¹³è¡Œéå†æ˜¯æœ‰æ¡ä»¶çš„ï¼Œæ‰€æœ‰çš„å¹³è¡Œéå†å¿…é¡»ï¼Œå‘ç”Ÿåœ¨åŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹ä¸‹**

![](https://s4.ax1x.com/2022/02/16/HhTwBF.png)

- ä¸¾ä¾‹

![](https://s4.ax1x.com/2022/02/16/HhT5AH.png)

- å¹³è¡Œéå†çš„ä»£ç 

![](https://s4.ax1x.com/2022/02/16/HhTo4A.png)



### æ€»ç»“

![](https://s4.ax1x.com/2022/02/16/Hh7ivV.png)



## å¦‚ä½•è®©HTMLé¡µé¢æ›´å‹å¥½çš„æ˜¾ç¤º

**ç”¨prettify()æ‰“å°**

![](https://s4.ax1x.com/2022/02/16/Hh7Qv6.png)

è®©æ ‡ç­¾å±‚çº§å…³ç³»ä½“ç°



## å•å…ƒå°ç»“

bs4åº“æä¾›çš„5ç§åŸºæœ¬å…ƒç´ ï¼š

1. æ ‡ç­¾ï¼šTag
2. æ ‡ç­¾çš„åå­—ï¼šName
3. æ ‡ç­¾çš„å±æ€§ï¼šAttributes
4. æ ‡ç­¾ä¹‹é—´çš„å­—ç¬¦ä¸²ï¼šNavigableString
5. æ ‡ç­¾å†…æ³¨é‡Šçš„å­—ç¬¦ä¸²ï¼šComment

bs4çš„éå†åŠŸèƒ½ï¼š

1. ä¸‹è¡Œéå†

- contents
- children
- descendants

  2.ä¸Šè¡Œéå†

- parent
- parents

  3.å¹³è¡Œéå†

- next_sibling
- previous_sibling
- next_siblings
- previous_siblings



# ä¿¡æ¯æ ‡è®°çš„ä¸‰ç§å½¢å¼

ä¿¡æ¯çš„æ ‡è®°

![](https://s4.ax1x.com/2022/02/17/H5PLCt.png)

HTMLç®€ç§°è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€

![](https://s4.ax1x.com/2022/02/17/H5iCUs.png)



å›½é™…å…¬è®¤çš„ä¿¡æ¯æ ‡è®°æœ‰3ç§å½¢å¼ï¼šXMLï¼ŒJSONï¼ŒYAML



## XMLçš„æ ¼å¼

å’Œhtmlç›¸å…³çš„æ ¼å¼éå¸¸æ¥è¿‘

![](https://s4.ax1x.com/2022/02/17/H5Fb1P.png)

ç©ºå…ƒç´ çš„æ—¶å€™å¯ä»¥å®ç°ç¼©å†™

![](https://s4.ax1x.com/2022/02/17/H5kHUJ.png)



## Jsonçš„æ ¼å¼

å¯¹ä¿¡æ¯çš„å®šä¹‰å«keyï¼Œå¯¹ä¿¡æ¯çš„èµ‹å€¼å«valueï¼Œéƒ½è¦ç”¨â€œâ€æ¥æ‹¬ï¼Œå¦‚æœæ˜¯æ•°å­—å°±ä¸éœ€è¦

![](https://s4.ax1x.com/2022/02/17/H5AJMV.png)

å¦‚æœä¸€ä¸ªkeyå¯¹åº”å¤šä¸ªvalueï¼Œç”¨æ–¹æ‹¬å·ã€ã€‘æ‹¬èµ·æ¥

![](https://s4.ax1x.com/2022/02/17/H5AdIJ.png)

é”®å€¼å¯¹å¯ä»¥åµŒå¥—ä½¿ç”¨ï¼Œæ­¤æ—¶é‡‡ç”¨å¤§æ‹¬å·ï¼š

![](https://s4.ax1x.com/2022/02/17/H5ABGR.png)



## YAMlçš„æ ¼å¼

ä¹Ÿé‡‡ç”¨é”®å€¼å¯¹ï¼Œä½†æ˜¯æ˜¯æ— ç±»å‹ï¼Œæ²¡æœ‰åŒå¼•å·

![](https://s4.ax1x.com/2022/02/17/H5AHL8.png)

é€šè¿‡ç¼©è¿›çš„æ–¹å¼è¡¨è¾¾æ‰€å±å…³ç³»ï¼š

![](https://s4.ax1x.com/2022/02/17/H5AxWn.png)

ç”¨â€œ-â€è¡¨è¾¾å¹¶åˆ—å…³ç³»ï¼š

![](https://s4.ax1x.com/2022/02/17/H5E9yV.png)

ç”¨|è¡¨ç¤ºæ•´å—æ•°æ®ï¼Œ#è¡¨ç¤ºæ³¨é‡Šï¼š

![](https://s4.ax1x.com/2022/02/17/H5EEFJ.png)

æ€»çš„æ¥è¯´ï¼š

![](https://s4.ax1x.com/2022/02/17/H5EVY9.png)



# ä¸‰ç§ä¿¡æ¯æ ‡è®°å½¢å¼çš„æ¯”è¾ƒ

- ## xmlæ˜¯ä¸€ç§ç”¨å°–æ‹¬å·ï¼Œæ ‡ç­¾è¡¨è¾¾ä¿¡æ¯çš„æ ‡ç­¾å½¢å¼

æœ€æ—©çš„é€šç”¨ä¿¡æ¯æ ‡è®°è¯­è¨€ï¼Œå¯æ‰©å¼ æ€§å¥½ï¼Œä½†æ˜¯ç¹çï¼Œç½‘ç»œä¸Šçš„ä¿¡æ¯äº¤äº’å’Œä¼ é€’

![](https://s4.ax1x.com/2022/02/17/H5Eglq.png)

ä¸¾ä¾‹ï¼š

![](https://s4.ax1x.com/2022/02/17/H5Qstf.png)







- ## jsonæ˜¯ä¸€ç§ç”¨æœ‰ç±»å‹çš„é”®å€¼å¯¹æ ‡æœºä¿¡æ¯çš„æ ‡ç­¾å½¢å¼

ä¿¡æ¯æœ‰ç±»å‹ï¼Œé€‚åˆç¨‹åºå¤„ç†ï¼ˆjsï¼‰ï¼Œè¾ƒç®€æ´

ç§»åŠ¨åº”ç”¨äº‘ç«¯å’ŒèŠ‚ç‚¹çš„ä¿¡æ¯é€šä¿¡ï¼Œæ— æ³¨é‡Š

![](https://s4.ax1x.com/2022/02/17/H5QJfO.png)

ä¸¾ä¾‹ï¼š

![](https://s4.ax1x.com/2022/02/17/H5Qg1g.png)









- ## yamlæ˜¯ä¸€ç§ç”¨æ— ç±»å‹çš„é”®å€¼å¯¹è¡¨è¾¾ä¿¡æ¯çš„æ ‡ç­¾å½¢å¼

ä¿¡æ¯æ— ç±»åˆ«ï¼Œæ–‡æœ¬ä¿¡æ¯æ¯”è¾ƒé«˜ï¼Œå¯è¯»æ€§å¥½

å„ç±»ç³»ç»Ÿçš„é…ç½®æ–‡ä»¶ï¼Œæœ‰æ³¨é‡Šæ˜“è¯»

![](https://s4.ax1x.com/2022/02/17/H5QtpD.png)

ä¸¾ä¾‹ï¼š

![](https://s4.ax1x.com/2022/02/17/H5QIA0.png)





# ä¿¡æ¯æå–çš„ä¸€èˆ¬æ–¹æ³•

**æ–¹æ³•1**ï¼šå®Œæ•´è§£æä¿¡æ¯çš„æ ‡æœºå½¢å¼ï¼Œå†æå–å…³é”®ä¿¡æ¯

XMLï¼ŒJSONï¼ŒYAML

éœ€è¦æ ‡æœºè§£æå™¨

ä¾‹å¦‚bs4åº“ çš„æ ‡ç­¾æ•°éå†

ä¼˜ç‚¹ï¼šä¿¡æ¯è§£æå‡†ç¡®

ç¼ºç‚¹ï¼šæå–è¿‡ç¨‹ç¹çï¼Œé€Ÿåº¦æ…¢



**æ–¹æ³•2**ï¼šæ— è§†æ ‡è®°å½¢å¼ï¼Œç›´æ¥æœç´¢å…³é”®ä¿¡æ¯

æœç´¢ï¼š

å¯¹ä¿¡æ¯çš„æ–‡æœ¬æŸ¥æ‰¾å‡½æ•°å³å¯

ä¼˜ç‚¹ï¼šæå–è¿‡ç¨‹ç®€æ´ï¼Œé€Ÿåº¦æ¯”è¾ƒå¿«

ç¼ºç‚¹ï¼šæå–ç»“æœå‡†ç¡®æ€§ä¸ä¿¡æ¯å†…å®¹ç›¸å…³



**èåˆæ–¹æ³•**ï¼šç»“åˆå½¢å¼è§£æä¸æœç´¢æ–¹æ³•ï¼Œæå–å…³é”®ä¿¡æ¯

XMLï¼ŒJSONï¼ŒYAMLæœç´¢

éœ€è¦æ ‡è®°è§£æå™¨åŠæ–‡æœ¬æŸ¥æ‰¾å‡½æ•°



**å®ä¾‹ï¼š**æå–HTMLä¸­æ‰€æœ‰urlé“¾æ¥

æ€è·¯ï¼š1ï¼‰æœç´¢åˆ°æ‰€æœ‰<a>æ ‡ç­¾

â€‹            2ï¼‰è§£æ<a>æ ‡ç­¾æ ¼å¼ï¼Œæå–hrefåé“¾æ¥çš„å†…å®¹



```python
from bs4 import BeautifulSoup
soup=BeautifulSoup(demo,"html.parser")
for link in soup.find_all('a'):
    print(link.get('href'))
```



# åŸºäºbs4åº“çš„HTMLå†…å®¹æŸ¥æ‰¾æ–¹æ³•

